<link rel="import" href="list-page.html">

<dom-module id="index-page">
	<template>
		<carbon-location route="{{route}}" use-hash-as-path></carbon-location>

		<carbon-route
			route="{{route}}"
			pattern="/:kind"
			data="{{data}}"
			tail="{{tail}}"
			active="{{active}}"></carbon-route>

		<carbon-route
			route="{{tail}}"
			pattern="/:field/:value"
			data="{{dataFilter}}"
			active="{{activeFilter}}"></carbon-route>

		<iron-selector selected="{{data.kind}}" attr-for-selected="kind-page"></iron-selector>

		<list-page
			kind="{{data.kind}}"
			field="{{dataFilter.field}}"
			value="{{dataFilter.value}}"></list-page>
	</template>

	<script>
		Polymer({
			is: 'index-page',
			attached: function() {
				console.log(this.route);
				if (!this.route.path) {
					this.set('route.path', '/photo');
					this.kind = 'photo';
				}
				if (!this.field || !this.value) {
					this.set('dataFilter.field', '');
					this.set('dataFilter.value', '');
				}
			}
		});
	</script>
</dom-module>
