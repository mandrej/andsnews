(function($){$.fn.minus=function(){$(this).html($(this).html().replace(/[+]/i,"−"));return this};$.fn.plus=function(){$(this).html($(this).html().replace(/[−]/i,"+"));return this};$.fn.collapseGroup=function(){var thisContexts=$(this);return this.each(function(){var $this=$(this);var $next=$this.next();$this.click(function(){if($next.is(":hidden")){$this.minus();$next.slideDown()}else{$this.plus();$next.slideUp()}thisContexts.not($this).each(function(){$(this).plus();$(this).next().slideUp()})})})};$.fn.slugify=function(options){var opts=$.extend({},slugifyDefaults,options);var output=$(opts.slug);$(this).blur(function(){$(output).val(URLify($(this).val(),opts.max))});return this};slugifyDefaults={max:50,slug:"#slug:enabled"};$.fn.focusHighlight=function(options){var opts=$.extend({},focusHighlightDefaults,options);return this.each(function(){var para=$(this).parents("p");$(this).focus(function(){$(para).addClass(opts.highlightClass)}).blur(function(){$(para).removeClass(opts.highlightClass)})})};focusHighlightDefaults={highlightClass:"focus"};$.fn.colStyle=function(){return this.each(function(){var table=$(this);var styles=$.map($("col",table),function(e){return $(e).attr("style")||""});if(styles.length>0){$("thead th",table).each(function(i,eth){var style=$(eth).attr("style")||"";style+=styles[i];if(style!="")$(eth).attr("style",style)});$("tbody tr",table).each(function(i,etr){$("td",etr).each(function(i,etd){var style=$(etd).attr("style")||"";style+=styles[i];if(style!="")$(etd).attr("style",style)})})}})};$.fn.copyright=function(src){var width=$(this).parent().width();var canvas=this[0];var cntx=canvas.getContext("2d");var img=new Image;img.src=src;img.onload=function(){var factor=width/img.width;$(canvas).attr("width",width).attr("height",img.height*factor);cntx.drawImage(img,0,0,img.width,img.height,0,0,width,img.height*factor);cntx.font='16px "PT Sans"';cntx.fillStyle="#fff";cntx.shadowColor="#000";cntx.shadowOffsetX=0;cntx.shadowOffsetY=0;cntx.shadowBlur=5;cntx.fillText("© ands.appspot.com",20,30)};return canvas};$(".modal").on("click",".close",function(evt){evt.preventDefault();$(this).parents(".modal").hide();$("#overlay").hide()});$("#wrapper").click(function(evt){var disallow={A:1,BUTTON:1,INPUT:1};var parnetTagName=$(evt.target).parent()[0].tagName;if(!(disallow[evt.target.tagName]||disallow[parnetTagName])){evt.preventDefault();$("input[data-function*='swipe']").prop("checked",false)}});$("#searchForm").submit(function(){$("#overlay, #spinner").show()});$("a.confirm").click(function(evt){evt.preventDefault();$("#confirm").load(this.href,function(){$("#overlay, #confirm").show();$(".content button").click(function(){$("#overlay, #spinner").show()})})});$("a.comment_add").click(function(evt){evt.preventDefault();$("#addcomment").load(this.href,function(){$("#overlay, #addcomment").show();$("#body").markItUp(cmntSettings,{nameSpace:"small"});$(".content button").click(function(evt){evt.preventDefault();$.ajax({type:"POST",url:$("#addcommentForm").attr("action"),data:{body:$("#body").val(),token:token},success:function(data){if(typeof data=="string"){$(".dummy").hide();$(".info").show();$("#comments").prepend(data);$("a.confirm").click(function(e){e.preventDefault();$("#confirm").load(this.href,function(){$("#overlay, #confirm").show()})});setTimeout(function(){$("#overlay, #addcomment").hide()},1e3)}else{$(".error").text("");$.each(data,function(key,arr){$(".error.C_"+key).text(arr.join(", "))})}}})})})})})(jQuery);var matchFind=location.search.match(/find=([^&]+)/i);if(matchFind){$(document).SearchHighlight({exact:"partial",highlight:"#main",keys:decodeURIComponent(matchFind[1])})}var crumbs=location.pathname.split("/");crumbs.shift();crumbs.shift();if(kind!=""){$(".hide").hide();$(".collapse").each(function(){$(this).plus()});if(crumbs.length>=2){var field=crumbs[0];var available=["tags","date","author","color","model","lens","eqv","iso","forkind"];if($.inArray(field,available)!=-1){$.ajax({url:"/filter/"+kind+"_"+field+"/"+crumbs[1],context:$("#"+field+"cloud"),success:function(snippet){$(this).html(snippet).slideDown();$("."+field).minus()}})}}}$(".collapse").click(function(evt){evt.preventDefault();var cntx=$(this);var url=cntx.attr("href");var key=url.split("/").pop();var field=key.split("_").pop();$(".hide").slideUp();$(".collapse").each(function(){$(this).plus()});$("#overlay, #spinner").show();if(crumbs[0]==field&&crumbs[1]!=undefined)url+="/"+crumbs[1];$.ajax({url:url,context:$("#"+field+"cloud"),success:function(snippet){$(this).html(snippet).slideDown();cntx.minus();$("#overlay, #spinner").hide()}})});
//# sourceMappingURL=base.js.map