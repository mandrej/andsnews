var options={width:284,selectFirst:!1,multiple:!1,matchContains:!0};$("#headline").slugify();$("#tags").autocomplete("/complete/Photo_tags",$.extend({},options,{multiple:!0}));$("#lens").autocomplete("/complete/Photo_lens",options);$("#crop_factor").autocomplete("/complete/Photo_crop_factor",options);$("button[type=submit]").click(function(){$("#overlay, #spinner").show()});
var write_palette=function(){$.getJSON(palette_url,function(a){var c=$("table.palette");c.empty().append('<tr><th>active</th><td><span class="dot" data-color="['+a.active.color+']" style="border-color: '+a.active.hex+'"></span></td><th>'+a.active["class"]+"</th></tr>");$.each(a.palette,function(a,b){c.append("<tr><th>"+b.prominence+'</th><td><span class="dot" data-color="['+b.color+']" style="border-color: '+b.hex+'"></span></td><td>'+b["class"]+"</td></tr>")});a.bgcolor&&c.append("<tr><th>"+a.bgcolor.prominence+
'</th><td><span class="dot" data-color="['+a.bgcolor.color+']" style="border-color: '+a.bgcolor.hex+'"></span></td><td>'+a.bgcolor["class"]+"</td></tr>")})};$("button[type=button]").click(function(a){a.preventDefault();write_palette()});$(".dot").live("click",function(){var a=$(this).attr("data-color");$.post(palette_url,{rgb:a},function(a){!0==a.success&&write_palette()})});
