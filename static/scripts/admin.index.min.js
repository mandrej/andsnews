function build(){$.getJSON("/admin/memcache/",function(b){$.each(b,function(c,b){var a="",d=c.split("_").pop()+" cloud";b?(a+='<button type="submit" name="delete" value="'+c+'">delete</button>',a+='<a class="graph" href="/visualize/'+c+'">graph</a>',a+='<h4 class="ff">'+d+" [+]</h4>",a+='<div class="hide">',$.each(b,function(b,c){a+="<dl><dt>"+b+"</dt>";a+="<dd>"+c+"</dd></dl>"}),a+="</div>"):(a+='<button type="submit" name="put" value="'+c+'">create</button>',a+="<h4>"+d+" [EMPTY]</h4>");$("#"+c).html(a)});
$(".ff").collapseGroup()})}$("button").live("click",function(){$("#spinner").show();var b=$(this).val(),c=$(this).attr("name");$.ajax({url:"/admin/memcache/"+b,type:c,dataType:"json",success:function(b){$("#spinner").hide();build();$(".ff").unbind().collapseGroup()}})});$("a.graph").live("click",function(b){b.preventDefault();$("#graph").load(this.href,function(){$("#overlay, #graph").show()})});build();
var drawSpectra=function(){var b=$("#sat").slider("value"),c=$("#lum").slider("value");$.getJSON("/admin/spectra?sat="+b+"&lum="+c,function(b){$("#spectra").empty();$.each(b,function(a,b){var c='<div style="clear: both"><span class="item" style="width: 50px;">'+a+"</span>";$.each(b,function(a,b){c+='<span class="item" style="background: '+b+'">&nbsp;</span>'});c+="</div>";$("#spectra").append(c)})})};
$(".slider").slider({min:0,max:100,step:5,change:function(b,c){$("input[name="+b.target.id+"]").val(c.value);drawSpectra()}});$("h2.ss").click(function(){drawSpectra()});$("#sat").slider("value",35);$("#lum").slider("value",40);
