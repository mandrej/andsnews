{"version":3,"file":"lazysizes.min.js","sources":["lazysizes.js"],"names":["window","factory","lazySizes","document","define","amd","getElementsByClassName","lazySizesConfig","docElem","documentElement","regPicture","loadEvents","hasClass","ele","cls","reg","RegExp","className","match","addClass","removeClass","replace","addRemoveLoadEvents","dom","fn","add","action","forEach","evt","triggerEvent","elem","name","details","noBubbles","noCanceable","event","createEvent","initEvent","dispatchEvent","updatePolyfill","el","full","polyfill","HTMLPictureElement","picturefill","respimage","reevaluate","reparse","elements","src","getCSS","style","getComputedStyle","getWidth","parent","width","offsetWidth","minSize","_lazysizesWidth","parentNode","throttle","run","timer","main","handleVisibility","clearInterval","hidden","setInterval","addEventListener","force","loader","isExpandCalculated","lazyloadElems","preloadElems","isCompleted","resetPreloadingTimer","eLvW","elvH","eLtop","eLleft","eLright","eLbottom","fixChrome","navigator","userAgent","$1","regImg","regIframe","supportScroll","shrinkExpand","defaultExpand","preloadExpand","currentExpand","lowRuns","isLoading","checkElementsIndex","resetPreloading","e","target","isNestedVisible","elemExpand","outerRect","visible","offsetParent","getBoundingClientRect","left","right","top","bottom","checkElements","i","start","rect","autoLoadElem","loadedSomething","elemNegativeExpand","elemExpandVal","beforeExpandVal","eLlen","length","m","Date","now","calcExpand","_lazyRace","unveilElement","getAttribute","innerWidth","innerHeight","throttledCheckElements","preloadAfterLoad","sizesAttr","switchLoadingClass","loadedClass","loadingClass","changeIframeSrc","contentWindow","location","setAttribute","sources","len","sourceSrcset","srcset","isPicture","firesLoad","customMedia","curSrc","currentSrc","isImg","test","nodeName","sizes","isAuto","complete","errorClass","defaultPrevented","autoSizer","updateElem","srcsetAttr","srcAttr","clearTimeout","setTimeout","getElementsByTagName","removeAttribute","autosizesClass","lazyClass","Math","max","min","expand","allowPreload","onload","_i","preloadClass","scroll","MutationObserver","observe","childList","subtree","attributes","readyState","checkElems","unveil","autosizesElems","sizeElement","dataAttr","updateElementsSizes","throttledUpdateElementsSizes","init","prop","lazySizesDefaults","cfg","uP","aC","rC","hC","fire","gW"],"mappings":"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"}