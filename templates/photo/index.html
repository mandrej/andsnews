{% extends "photo/base.html" %}
{% import "snippets/macros.html" as m %}
{% block title %}{{ super() }} - {{ _('Photos') }}{% endblock %}
{% block paging %}
    {% with name='photo_all' %}{% include 'snippets/paging.html' %}{% endwith %}
{% endblock %}

{% block contents %}
    <div class="page">
        <header>
            <h2>
                <a href="{{ uri_for('photo_all', page=page) }}">{{ _('Photos') }}</a>
                {{ m.filter_title(filter) }}
            </h2>
        </header>
        <article class="thumbnails">
            {% for object in objects %}
                {% if object %}
                    <figure>
                        <a href="#{{ object.key.urlsafe() }}" title="{{ object.headline }}"
                           style="background-image: url({{ object.small_url_async.get_result() }})">
                            <p class="legend">{{ object.headline }}</p>
                        </a>
                        <div id="{{ object.key.urlsafe() }}" class="fill"
                            style="background-image: url({{ object.normal_url_async.get_result() }})">
                        </div>
                    </figure>
                {% endif %}
            {% endfor %}
        </article>
    </div>
{% endblock %}