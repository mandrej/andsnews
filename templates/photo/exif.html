{% from "snippets/macros.html" import chip %}

<span class="card-title">{{ object.headline }}<i class="material-icons right">close</i></span>
<div class="row">
    <div class="col s12 m6">
        {{ chip(url=uri_for('photo_all_filter', field='model', value=object.model),
            title=_('photos taken with same camera model'), text=object.model) }}
        {% if object.lens %}
            {{ chip(url=uri_for('photo_all_filter', field='lens', value=object.lens),
                title=_('photos taken with same lens'), text=object.lens) }}
        {% endif %}
        {{ chip(url=uri_for('photo_all_filter', field='author', value=object.author),
            title=_("author's photos"), text=object.author) }}
        {% for tag in object.tags %}
            {{ chip(url=uri_for('photo_all_filter', field='tags', value=tag), text=tag) }}
        {% endfor %}
        {{ chip(url=uri_for('photo_all_filter', field='date', value=object.year),
            title=_('photos taken same year'), text=object.year) }}
        {% if object.iso %}
            {{ chip(url=uri_for('photo_all_filter', field='iso', value=object.iso),
                title=_('photos with same iso'), text='%s ASA' % object.iso) }}
        {% endif %}
{#        {{ chip(url=uri_for('photo_all_filter', field='color', value=object.color),
            icon='<span class="dot" style="border-color: %s;"></span>' % object.hex,
            title=_('photos with similar color'), text=_(object.color)) }} #}
        {{ chip(url=uri_for('photo_all_filter', field='color', value=object.color),
            title=_('photos with similar color'), text=_(object.color)) }}
    </div>
    <div class="col s12 m6">
        <div class="row">
            <div class="col s6">{{ _('Aperture') }}</div>
            <div class="col s6">{{ 'F%s' % object.aperture if object.aperture is not none else '---' }}</div>

            <div class="col s6">{{ _('Shutter speed') }}</div>
            <div class="col s6">{{ '%s sec' % object.shutter if object.shutter != '' else '---' }}</div>

            <div class="col s6">{{ _('Focal length') }}</div>
            <div class="col s6">{{ '%s mm' % object.focal_length if object.focal_length is not none else '---' }}</div>

            <div class="col s6">{{ _('Taken') }}</div>
            <div class="col s6"><time datetime='{{ object.date.strftime(full_date) }}'>
                {{ object.date.strftime(full_date) }}</time></div>
            <div class="col s6">{{ _('Size') }}</div>
            <div class="col s6">
                {{ object|image_dimension }}, {{ object.size|filesizeformat }}
            </div>
        </div>
    </div>
</div>

{% if user %}
    <a href="{{ uri_for('download', safe_key=object.key.urlsafe()) }}"
        class="btn-floating btn-large waves-effect red">
        <i class="material-icons">file_download</i>
    </a>
{% endif %}
