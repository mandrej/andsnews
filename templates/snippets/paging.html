{% macro _link(name, page, class, title) %}
    {% if filter %}
        {% set url = uri_for('%s_filter' % name, page=page, field=filter.field, value=filter.value) %}
    {% else %}
        {% set url = uri_for(name, page=page) %}
    {% endif %}
    <a{{ {'href': '%s?find=%s' % (url, phrase) if phrase else url, 'class': class, 'title': title}|xmlattr }}></a>
{% endmacro %}

{% if has_previous or has_next %}
    {% if has_previous %}
        {{ _link(name, page - 1, prev_class, '%s %s' % (_('previous'), _('page'))) }}
    {% else %}
        <span class="{{ prev_class }} na"></span>
    {% endif %}
    {% if has_next %}
        {{ _link(name, page + 1, next_class, '%s %s' % (_('next'), _('page'))) }}
    {% else %}
        <span class="{{ next_class }} na"></span>
    {% endif %}
{% endif %}