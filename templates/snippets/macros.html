{% macro input(field) %}
    {{ field(**kwargs) }}
    {% if field.errors %}
        <span class="error C_{{ field.name }}">{{ field.errors|join(', ') }}</span>
    {% endif %}
{% endmacro %}

{% macro form_row(field) %}
    <p>
        {{ field.label(class='required' if field.flags.required else '') }}
        {% call input(field, **kwargs) %}{% endcall %}
    </p>
{% endmacro %}

{% macro chip(url, classes=[], icon=None, title=None, text='') %}
    {% set classes=['chip'] + classes %}
    <div class="{{ classes|css_classes }}">
        {% if icon %}{{ icon|safe }}{% endif %}
        <a{{ {'href': url, 'title': title}|xmlattr }}>{{ text }}</a>
    </div>
{% endmacro %}
